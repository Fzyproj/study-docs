# jdk

## 安装

1. 传送门：[jdk官方下载页面](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)
2. 解压目录

```shell
 tar -zxvf jdk-8u101-linux-x64.tar.gz -C /usr/local/java/
```

3. 设置环境变量

```shell
vim /etc/profile
// 行尾添加如下
export JAVA_HOME=/usr/local/java/jdk1.8.0_101  //最后是你的jdk安装文件夹名字
export JRE_HOME=${JAVA_HOME}/jre
export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib
export PATH=${JAVA_HOME}/bin:$PATH
```

4. 使/etc/profile生效

```shell
source /etc/profile
```

5. 检测安装是否成功

```shell
java -version
java
javac
```

## 卸载

1. 查看安装的jdk包

```shell
rpm -qa|grep jdk
[info]
java-1.8.0-openjdk-headless-1.8.0.65-3.b17.el7.x86_64
java-1.7.0-openjdk-1.7.0.91-2.6.2.3.el7.x86_64
java-1.7.0-openjdk-headless-1.7.0.91-2.6.2.3.el7.x86_64
java-1.8.0-openjdk-1.8.0.65-3.b17.el7.x86_64
```

2. 卸载命令

```shell
yum -y remove java-1.8.0-openjdk-headless-1.8.0.65-3.b17.el7.x86_64
```

3. 测试是否卸载成功

```java
java -version
```

# Maven

## 安装

1. 下载安装包

```shell
wget http://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz
```

2. 解压安装包

```shell
tar -zxvf apache-maven-3.3.9-bin.tar.gz
```

3. 设置环境变量，编辑`vim /etc/profile`

```shell
M2_HOME=/opt/tyrone/maven （注意这里是maven的安装路径）
export PATH=${M2_HOME}/bin:${PATH}
```

4. 重新加载配置文件

```shell
source /etc/profile
```

5. 检验maven是否安装成功

```maven
Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)
Maven home: /app/apache-maven-3.3.9
Java version: 1.8.0_251, vendor: Oracle Corporation
Java home: /usr/local/java/jdk1.8.0_251/jre
Default locale: zh_CN, platform encoding: UTF-8
OS name: "linux", version: "3.10.0-1127.el7.x86_64", arch: "amd64", family: "unix"
```

6. 上图所示说明maven安装成功。

# RocketMq

1. 下载地址[传送门](https://rocketmq.apache.org/dowloading/releases/)
2. 复制下载链接使用：`wget https://.....`
3. 解压并移动文件夹

```shell
unzip rocketmq-all-4.2.0-source-release.zip
cd rocketmq-all-4.2.0/
```

4. maven构建rocketmq

```shell
mvn -Prelease-all -DskipTests clean install -U
cd distribution/target/apache-rocketmq
```

5. ​	**修改默认配置**
   - 开发调试的话，不需要使用太高的配置.默认的配置占用的内存太高.

```shell
vim bin/runserver.sh
vim bin/runbroker.sh
vim bin/tools.sh
```

​		修改JAVA_HOME及Xms,Xmx,Xmn等内存配置，默认最小4G

```shell
JAVA_OPT="${JAVA_OPT} -server -Xms256m -Xmx256m -Xmn128m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=320m"
```

6. 启动namesrv

```shell
nohup sh bin/mqnamesrv & tail -f ~/logs/rocketmqlogs/namesrv.log
```

7. 启动broker

```shell
nohup sh bin/mqbroker -n localhost:9876 & tail -f ~/logs/rocketmqlogs/broker.log
```

8. 关闭broker，namesrv

```shell
sh bin/mqshutdown broker //关闭broker
sh bin/mqshutdown namesrv //关闭namesrv
```



